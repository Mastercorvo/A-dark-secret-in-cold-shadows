[{"C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\index.jsx":"1","C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\App.jsx":"2","C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\reportWebVitals.js":"3","C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\zona 1\\Zone1.jsx":"4"},{"size":576,"mtime":1611013694564,"results":"5","hashOfConfig":"6"},{"size":7642,"mtime":1611093217956,"results":"7","hashOfConfig":"6"},{"size":362,"mtime":1610727564164,"results":"8","hashOfConfig":"6"},{"size":15875,"mtime":1611092494303,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"zo3n7v",{"filePath":"13","messages":"14","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\index.jsx",[],["20","21"],"C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\App.jsx",["22","23"],"\nimport './App.css';\n\nimport { useState, useRef, useEffect, useLayoutEffect } from 'react';\n\nimport ReactPlayer from 'react-player';\n\nimport Zone1 from \"./zona 1/Zone1\";\n\nconst SelenaHabla = 'https://i.ibb.co/rGM9kQR/Selena-Stickers1.png';\nconst SelenaHablaSeria = 'https://i.ibb.co/9tVZNgx/Selena-Stickers2.png';\nconst SelenaHablaTriste = 'https://i.ibb.co/P1k9ph8/Selena-Stickers5.png';\nconst SelenaDesconfia = 'https://i.ibb.co/5R6tPPQ/Selena-Stickers3.png';\nconst SelenaAvergonzada = 'https://i.ibb.co/L0TWpy5/Selena-Stickers10.png';\n\nconst Selenas =[[SelenaHabla, 'SelenaHabla'], [SelenaHablaSeria, 'SelenaHablaSeria'],[SelenaHablaTriste,'SelenaHablaTriste'], [SelenaDesconfia, 'SelenaDesconfia'], [SelenaAvergonzada, 'SelenaAvergonzada']];\n\nlet ObjetSelenas = {}\n\nfunction App() {\n\n  const [isLoad, setIsLoad] = useState(true);\n  const [countImages, setCountImages] = useState(0);\n  const [countImagesLoad, setCountImagesLoad] = useState(0);\n\n  const [onPlay, setOnplay] = useState(false);\n\n  const [showPlayScreen, setShowPlayScreen] = useState(true);\n\n  const cacheImages = async (arr) =>{\n\n    setCountImages(()=>arr.length)\n\n    const promises = await arr.map(([link, name])=>{\n  \n      return new Promise((resolve, reject)=>{\n\n        fetch(link).then(result=>{\n          \n          return result.blob();\n        }).then(result=>{\n          \n          console.log('hola');\n          setCountImagesLoad(v=>v+1);\n          resolve([name, URL.createObjectURL(result)]);\n\n        })\n\n      })\n  \n    });\n\n    \n    ObjetSelenas = Object.fromEntries(await Promise.all(promises))\n    \n    setOnplay(()=>true);\n    \n    setIsLoad(false);\n\n  }\n  \n  useLayoutEffect(()=>{\n    \n    cacheImages(Selenas);\n\n  }, []);\n\n  const [TEXT, setTEXT] = useState('');\n\n  const [avatar, setAvatar] = useState('');\n  const [newFoto, setNewFoto] = useState(false);\n  const [showText, setShowText] = useState(false);\n\n  const writing = useRef(false);\n  const arrayTexts = useRef([]);\n  const currentText = useRef('');\n  const currentNowWriting = useRef(false);\n  const arrayOfTimeOuts = useRef([]);\n\n  const [inventario, setInventario] = useState({});\n\n  const [showInventario, setShowInventario] = useState(false);\n\n  const animationAvatarStart = useRef(false);\n\n  const currentAnyText = useRef(false);\n\n  function inputText(array){\n\n    if(writing.current) return false;\n    \n    currentAnyText.current = true;\n\n    writing.current = true;\n\n    setShowText(true);\n\n    for(let i = 0; i < array.length ;i++){\n\n      arrayTexts.current[i] = ()=>later(array[i]);\n\n    }\n\n    function later(_DATA){\n\n      // Animation code\n\n      setAvatar(()=>{\n\n        return ObjetSelenas[img]\n      \n      });\n\n      setTimeout(() => {\n        \n        setNewFoto(()=>true);\n\n      }, 0);\n      animationAvatarStart.current = true;\n\n      // Code\n\n      currentNowWriting.current = true;\n\n      for(let i = 0;i < arrayOfTimeOuts.current.length; i++){\n        \n        clearTimeout(arrayOfTimeOuts.current[i]);\n        \n      }\n      \n      let DATA = _DATA?_DATA:{};\n      \n      let { text, speed, replace, wait, img } = DATA;\n      \n      if(speed === undefined) speed = 40;\n      if(replace === undefined) replace = true;\n      if(replace){\n\n        setTEXT(()=>'');\n\n      }\n      if(wait === undefined) wait = 0;\n      \n      currentText.current = text.join``;\n\n      let textModify = '';\n\n      let textOriginal = ''\n\n      if(replace){\n\n        textModify = text[0] + ' _';\n  \n        textOriginal = text[0];\n\n      }else{\n\n        textModify = TEXT + text[0] + ' _';\n  \n        textOriginal = TEXT + text[0];\n\n      }\n\n      for(let i = 0; i <= wait/100 ;i++){\n\n        setTimeout(()=>{\n\n          if((i%2) === 0){\n\n            setTEXT(()=>textModify);\n\n          }else{\n\n            setTEXT(()=>textOriginal);\n\n          }\n\n          if(i === (wait/100)) continueText();\n\n        }, 100 * i);\n\n      }\n\n      function continueText(){\n\n        setTEXT(()=>textOriginal);\n\n        for(let i = 0; i < text[1].length;i++){\n    \n          arrayOfTimeOuts.current.push(setTimeout(()=>{\n    \n            setTEXT(v=>v+text[1][i]);\n    \n            if(i === (text[1].length - 1)){\n\n              currentNowWriting.current = false;\n\n              if(!animationAvatarStart.current) setNewFoto(()=>false);\n\n            }\n    \n          }, speed * i))\n    \n        }\n  \n      }\n      \n    }\n    \n    arrayTexts.current.shift()();\n\n  }\n\n    function first(){\n\n      inputText([{text:['— Selena: ','Haaaa... ¿Dónde estoy?'], img: 'SelenaHablaTriste'},\n      {text:['— Selena: ','No sé como llegue aquí, pero debo salir rápido.'], img: 'SelenaHablaSeria'},\n      {text:['[SYSTEM] ','Ayuda a Selena a salir de aquí.']}]);\n\n    }\n\n  const count = useRef(0);\n\n    const [AA, setAA] = useState(true);\n\n  function textHandler(){\n\n    setAA(false);\n    setTimeout(()=>{\n\n      setAA(true);\n\n    }, 0)\n\n    if(currentNowWriting.current){\n\n      setNewFoto(()=>false);\n\n      for(let i = 0;i < arrayOfTimeOuts.current.length; i++){\n        \n        clearTimeout(arrayOfTimeOuts.current[i]);\n        \n      }\n\n      setTEXT(()=>currentText.current);\n\n      currentNowWriting.current = false\n\n      return false;\n\n    }\n\n    if(arrayTexts.current.length === 0) count.current = 1\n    \n    const Element = arrayTexts.current.shift();\n    \n    setNewFoto(()=>false);\n\n    Element && Element();\n\n    if(count.current === 1) {\n\n      setShowText(false);\n\n      currentAnyText.current = false\n\n      writing.current = false;\n\n      currentText.current = '';\n\n      count.current = 0;\n    \n    }\n\n  }\n\n  const [textPlay, setTextPlay] = useState('READY?');\n  const [FINAL, setFINAL] = useState(false);\n  const [menuMusic, setMenuMusic] = useState(false);\n\n  if(isLoad){\n\n    return <div className=\"load\">\n\n      <h1>Unfinished Selena Game (Protoptipe)</h1>\n\n      <span>Un juego original del estudio:</span>\n\n      <div className=\"logo\"></div>\n\n      <p>Cargando...</p>\n\n      <div className=\"bar\"><div style={{width:`${(100*countImagesLoad)/countImages}%`}}></div></div>\n      \n    </div>\n\n  }\n\n  return (\n\n      <div className=\"App\">\n        <ReactPlayer url=\"https://www.youtube.com/watch?v=PAb74twuW58\" loop playing={!showPlayScreen && !FINAL} width=\"0\" height=\"0\"/>\n\n        <div className=\"play\"style={{display:showPlayScreen?'flex':'none'}} onClick={()=>{\n\n          setShowPlayScreen(false)\n          \n          first()\n\n        }}><p hidden={onPlay && !menuMusic} onMouseOut={()=>setTextPlay('READY?')} onMouseOver={()=>setTextPlay('GO!')} >{textPlay}</p>\n          <ReactPlayer url=\"https://www.youtube.com/watch?v=0lDfQT0yiwc\" loop playing={showPlayScreen && !FINAL} width=\"0\" height=\"0\" onStart={()=>{setMenuMusic(true)}}/>\n  \n        </div>\n        <div className=\"inventario-icon\" onClick={()=>setShowInventario(true)}></div>\n        <div className=\"inventario\" style={{display:showInventario?'block':'none'}}>\n\n          <p className=\"close\" onClick={()=>setShowInventario(false)}>Cerrar</p>\n\n          <div className=\"container\">\n\n            {Object.entries(inventario).map(e=>e[1])}\n\n          </div>\n\n        </div>\n        <Zone1 setFINAL={setFINAL} inputText={inputText} setInventario={setInventario} inventario={inventario} currentAnyText={currentAnyText}/>\n        <div className=\"texto \" onClick={textHandler} style={{display:showText?'block':'none'}}>\n        {TEXT}\n        <div className={'foto ' + (newFoto?'boom':'')} onAnimationEnd={()=>{\n\n          setNewFoto(()=>false);\n\n          animationAvatarStart.current = false;\n          \n          }} style={{backgroundImage: `url(${avatar})`} }></div>\n\n        </div>\n\n      </div>\n\n  );\n}\n\nexport default App;\n","C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\reportWebVitals.js",[],"C:\\Users\\giga\\Documents\\unfinished-selena-game\\src\\zona 1\\Zone1.jsx",[],{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","severity":1,"message":"29","line":4,"column":28,"nodeType":"30","messageId":"31","endLine":4,"endColumn":37},{"ruleId":"28","severity":1,"message":"32","line":224,"column":12,"nodeType":"30","messageId":"31","endLine":224,"endColumn":14},"no-native-reassign",["33"],"no-negated-in-lhs",["34"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'AA' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]